#!/bin/bash

# ãƒ‡ãƒãƒƒã‚°: å…¥åŠ›å†…å®¹ã‚’ç¢ºèª
echo "ðŸ” DEBUG: CLAUDE_TOOL_INPUT = $CLAUDE_TOOL_INPUT" >&2
echo "ðŸ” DEBUG: Length = ${#CLAUDE_TOOL_INPUT}" >&2

# ãƒžã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã©ã†ã‹ãƒã‚§ãƒƒã‚¯
if echo "$CLAUDE_TOOL_INPUT" | grep -q "migrations/.*\.sql"; then
    echo "âš ï¸  ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒžã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œå‰ã®ç¢ºèª:" >&2
    echo "  - ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æ‰‹é †ã¯æº–å‚™æ¸ˆã¿ã§ã™ã‹ï¼Ÿ" >&2
    echo "  - ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã¯å–å¾—ã—ã¾ã—ãŸã‹ï¼Ÿ" >&2
    echo "  - å½±éŸ¿ç¯„å›²ã‚’ç¢ºèªã—ã¾ã—ãŸã‹ï¼Ÿ" >&2
    exit 1
fi

# ãƒžã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã§ãªã„å ´åˆã‚‚ç¢ºèªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
echo "âœ… é€šå¸¸ã®ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œã§ã™" >&2
exit 1